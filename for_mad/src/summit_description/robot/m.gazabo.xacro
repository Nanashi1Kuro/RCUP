<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

	<gazebo>
		<plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
		        <robotNamespace>/angle_robot</robotNamespace>
			<robotSimType>gazebo_ros_control/DefaultRobotHWSim</robotSimType>
		</plugin>
	</gazebo>



	<joint name="ang_base" type="fixed">
		<parent link="summit_base_link"/>
		<child link="ang_link0"/>
		<origin rpy = "0 0 -1.57" xyz="-0.16 0 0.05" />
	</joint>
	
	<link name="ang_link0">
		<visual>
			<geometry>
				<mesh filename="package://angle_arm_model_gazebo/meshes/link1.dae" scale="0.001 0.001 0.001"/>
			</geometry>
		</visual>
		<inertial>
			<origin xyz="0 0 0.5" rpy="0 0 0"/>
			<mass value="1"/>
			<inertia
				ixx="0.01" ixy="0.0" ixz="0.0"
				iyy="0.01" iyz="0.0"
				izz="0.01"/>
		</inertial>
	</link>
	<joint name="ang_joint1" type="continuous">
		<parent link="ang_link0"/>
		<child link="ang_link1"/>
		<origin xyz = "0 0 0.117" rpy="1.57 0 -1.57" />
		<axis xyz="0 1 0" />
		<dynamics damping="0.99"/>
		<limit effort="5.0" velocity="5.0"/>
	</joint>

	<link name="ang_link1">
		<visual>
			<geometry>
				<mesh filename="package://angle_arm_model_gazebo/meshes/link2.dae" scale="0.001 0.001 0.001"/>
			</geometry>
		</visual>
		<inertial>
			<origin xyz="0 0.25 0" rpy="0 0 0"/>
			<mass value="0.001"/>
			<inertia
				ixx="0.01" ixy="0.0" ixz="0.0"
				iyy="0.01" iyz="0.0"
				izz="0.01"/>
		</inertial>
	</link>
	<joint name="ang_joint2" type="continuous">
		<parent link="ang_link1"/>
		<child link="ang_link2"/>
		<origin xyz = "0 0.0518 0" rpy="0 0 0" />
		<axis xyz="0 0 1" />
		<dynamics damping="0.99"/>
		<limit effort="5.0" velocity="5.0"/>
	</joint>

	<link name="ang_link2">
		<visual>
			<geometry>
				<mesh filename="package://angle_arm_model_gazebo/meshes/link3.dae" scale="0.001 0.001 0.001"/>
			</geometry>
		</visual>
		<inertial>
			<origin xyz="0 0.15 0" rpy="0 0 0"/>
			<mass value="0.001"/>
			<inertia
				ixx="0.01" ixy="0.0" ixz="0.0"
				iyy="0.01" iyz="0.0"
				izz="0.01"/>
		</inertial>
	</link>

	<joint name="ang_joint3" type="continuous">
		<parent link="ang_link2"/>
		<child link="ang_link3"/>
		<origin xyz = "0.0626 0.1989 0" rpy="0 0 0" />
		<axis xyz="0 0 1" />
		<dynamics damping="0.99"/>
		<limit effort="5.0" velocity="5.0"/>
	</joint>

	<link name="ang_link3">
		<visual>
			<geometry>
				<mesh filename="package://angle_arm_model_gazebo/meshes/link4.dae" scale="0.001 0.001 0.001"/>
			</geometry>
		</visual>
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="0.001"/>
			<inertia
				ixx="0.01" ixy="0.0" ixz="0.0"
				iyy="0.01" iyz="0.0"
				izz="0.01"/>
		</inertial>
	</link>

	<joint name="ang_joint4" type="continuous">
		<parent link="ang_link3"/>
		<child link="ang_link4"/>
		<origin xyz = "0.13093 0 0" rpy="-1.57 0 1.57" />
		<axis xyz="0 -1 0" />
		<dynamics damping="0.99"/>
		<limit effort="5.0" velocity="5.0"/>
	</joint>

	<link name="ang_link4">
		<visual>
			<geometry>
				<mesh filename="package://angle_arm_model_gazebo/meshes/link5.dae" scale="0.001 0.001 0.001"/>
			</geometry>
		</visual>
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="0.001"/>
			<inertia
				ixx="0.01" ixy="0.0" ixz="0.0"
				iyy="0.01" iyz="0.0"
				izz="0.01"/>
		</inertial>
	</link>

	<joint name="ang_joint5" type="continuous">
		<parent link="ang_link4"/>
		<child link="ang_link5"/>
		<origin xyz = "0 0 -0.06174" rpy="0 0 0" />
		<axis xyz="0 0 -1" />
		<dynamics damping="0.99"/>
		<limit effort="5.0" velocity="5.0"/>
	</joint>

	<xacro:sensor_d435 name="sensor_d435" topics_ns="sensor_d435" parent="ang_link5">
    <origin rpy="0 1.625 0" xyz="0.019 0 -0.0555"/>
  </xacro:sensor_d435>

	<link name="ang_link5">
		<visual>
			<geometry>
				<mesh filename="package://angle_arm_model_gazebo/meshes/link6.dae" scale="0.001 0.001 0.001"/>
			</geometry>
		</visual>
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="0.001"/>
			<inertia
				ixx="0.01" ixy="0.0" ixz="0.0"
				iyy="0.01" iyz="0.0"
				izz="0.01"/>
		</inertial>
	</link>

	<joint name="ang_gripper" type="prismatic">
		<parent link="ang_link5"/>
		<child link="ang_link6"/>
		<origin xyz = "0 0 -0.0715" rpy="1.57 3.14 0" />
		<axis xyz="0 0 1" />
		<limit effort="3" lower="0" upper="0.025" velocity="0.05"/>
		<dynamics damping="0.99"/>
	</joint>

	<link name="ang_link6">
		<collision>
			<geometry>
				<mesh filename="package://angle_arm_model_gazebo/meshes/link7.dae" scale="0.001 0.001 0.001"/>
			</geometry>
		</collision>
		<visual>
			<geometry>
				<mesh filename="package://angle_arm_model_gazebo/meshes/link7.dae" scale="0.001 0.001 0.001"/>
			</geometry>
		</visual>
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="0.001"/>
			<inertia
				ixx="0.01" ixy="0.0" ixz="0.0"
				iyy="0.01" iyz="0.0"
				izz="0.01"/>
		</inertial>
	</link>
	<joint name="ang_gripper_sub" type="prismatic">
		<parent link="ang_link5"/>
		<child link="ang_link7"/>
		<origin xyz = "0 0 -0.0715" rpy="-1.57 0 0" />
		<axis xyz="0 0 1" />
		<limit effort="3" lower="0" upper="0.025" velocity="0.05"/>
	        <mimic joint="ang_gripper" multiplier="1" offset="0"/>
		<dynamics damping="0.99"/>
	</joint>
	<link name="ang_link7">
		<collision>
			<geometry>
				<mesh filename="package://angle_arm_model_gazebo/meshes/link7.dae" scale="0.001 0.001 0.001"/>
			</geometry>
		</collision>
		<visual>
			<geometry>
				<mesh filename="package://angle_arm_model_gazebo/meshes/link7.dae" scale="0.001 0.001 0.001"/>
			</geometry>
		</visual>
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="0.001"/>
			<inertia
				ixx="0.01" ixy="0.0" ixz="0.0"
				iyy="0.01" iyz="0.0"
				izz="0.01"/>
		</inertial>
	</link>

<!-- transmission -->
	<transmission name="ang_tran1">
		<type>transmission_interface/SimpleTransmission</type>
		<joint name="ang_joint1">
			<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
		</joint>
		<actuator name="ang_motor1">
			<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
			<mechanicalReduction>1</mechanicalReduction>
		</actuator>
	</transmission>
	<transmission name="ang_tran2">
		<type>transmission_interface/SimpleTransmission</type>
		<joint name="ang_joint2">
			<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
		</joint>
		<actuator name="ang_motor2">
			<hardwareInterface>hardware_interface/EffortJointInterfacee</hardwareInterface>
			<mechanicalReduction>1</mechanicalReduction>
		</actuator>
	</transmission>
	<transmission name="ang_tran3">
		<type>transmission_interface/SimpleTransmission</type>
		<joint name="ang_joint3">
			<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
		</joint>
		<actuator name="ang_motor3">
			<hardwareInterface>hardware_interface/EffortJointInterfacee</hardwareInterface>
			<mechanicalReduction>1</mechanicalReduction>
		</actuator>
	</transmission>
	<transmission name="ang_tran4">
		<type>transmission_interface/SimpleTransmission</type>
		<joint name="ang_joint4">
			<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
		</joint>
		<actuator name="ang_motor4">
			<hardwareInterface>hardware_interface/EffortJointInterfacee</hardwareInterface>
			<mechanicalReduction>1</mechanicalReduction>
		</actuator>
	</transmission>
	<transmission name="ang_tran5">
		<type>transmission_interface/SimpleTransmission</type>
		<joint name="ang_joint5">
			<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
		</joint>
		<actuator name="ang_motor5">
			<hardwareInterface>hardware_interface/EffortJointInterfacee</hardwareInterface>
			<mechanicalReduction>1</mechanicalReduction>
		</actuator>
	</transmission>
	<transmission name="ang_tran5">
		<type>transmission_interface/SimpleTransmission</type>
		<joint name="ang_gripper">
			<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
		</joint>
		<actuator name="ang_motor5">
			<hardwareInterface>hardware_interface/EffortJointInterfacee</hardwareInterface>
			<mechanicalReduction>1</mechanicalReduction>
		</actuator>
	</transmission>
	<transmission name="ang_tran5">
		<type>transmission_interface/SimpleTransmission</type>
		<joint name="ang_gripper">
			<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
		</joint>
		<actuator name="ang_motor5">
			<hardwareInterface>hardware_interface/EffortJointInterfacee</hardwareInterface>
			<mechanicalReduction>1</mechanicalReduction>
		</actuator>
	</transmission>
	<transmission name="ang_tran5">
		<type>transmission_interface/SimpleTransmission</type>
		<joint name="ang_gripper_sub">
			<hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
		</joint>
		<actuator name="ang_motor5">
			<hardwareInterface>hardware_interface/EffortJointInterfacee</hardwareInterface>
			<mechanicalReduction>1</mechanicalReduction>
		</actuator>
	</transmission>
  <gazebo reference="ang_link0"> 
    <material>Gazebo/Gray</material>  
  </gazebo>
  <gazebo reference="ang_link1"> 
    <material>Gazebo/Gray</material>  
  </gazebo>
  <gazebo reference="ang_link2"> 
    <material>Gazebo/Gray</material>  
  </gazebo>
  <gazebo reference="ang_link3"> 
    <material>Gazebo/Gray</material>  
  </gazebo>
  <gazebo reference="ang_link4"> 
    <material>Gazebo/Gray</material>  
  </gazebo>
  <gazebo reference="ang_link5"> 
    <material>Gazebo/Gray</material>  
  </gazebo>
  <gazebo reference="ang_link7"> 
    <material>Gazebo/Orange</material>
        <kp>10000.0</kp>
        <kd>10000.0</kd>
        <mu1>1000.0</mu1>
        <mu2>1000.0</mu2>
    <minDepth>0.001</minDepth>  
    <maxVel>0</maxVel>  
  </gazebo>  
  <gazebo reference="ang_link6">
        <kp>10000.0</kp>
        <kd>10000.0</kd>
        <mu1>1000.0</mu1>
        <mu2>1000.0</mu2>
    <minDepth>0.001</minDepth>  
    <maxVel>0</maxVel>
    <material>Gazebo/Orange</material> 
  </gazebo>  
  </robot>
